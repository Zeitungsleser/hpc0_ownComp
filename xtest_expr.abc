@ <stdio.hdr>
@ "expr.hdr"
@ "gen.hdr"

fn main()
{
    local expr: -> Expr;

    expr = createBinaryExpr(EXPR_SUB,
                            createBinaryExpr(EXPR_DIV,
                                             createIntegerExpr(UStrCreate("2")),
                                             createIntegerExpr(UStrCreate("3"))),
                            createIntegerExpr(UStrCreate("4")));
    expr = createBinaryExpr(EXPR_ASSIGN,
                    createUnaryExpr(EXPR_DEREF,
                        createUnaryExpr(EXPR_ADDR,    
                            createIdentifierExpr(UStrCreate("x")))),
                            expr);
    printExprLatexTree(expr);
    printf("\n");
    genReleaseReg(loadExpr(expr));

    releaseExpr(expr);
}
